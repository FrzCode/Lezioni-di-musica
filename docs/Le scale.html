<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lezioni di musica</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../style/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/abcjs@6.5.1/dist/abcjs-basic-min.js"></script>
</head>

<body>
<header>

  <!-- Header come nella pagina "scale" -->
  <div id="header-container">
    
    <script>
      fetch("header.html")
      .then(response => response.text())
      .then(data => {
        document.getElementById("header-container").innerHTML = data;
      });
      </script>
  </div>
</header>

  <!-- Sidebar sinistra caricata da file esterno -->
  <div class="content-wrapper">
    <div id="aside-container"></div>
    <script>
      fetch("aside-moduli.html")
        .then(r => r.text())
        .then(html => { document.getElementById("aside-container").innerHTML = html; })
        .catch(err => console.error("Errore nel caricamento aside:", err));
    </script>

    <main>
      <article>
        <h1>Cos'è una scala?</h1>
        <hr />
        <p>
          La scala è una successione di note con determinate caratteristiche. La definizione classica è:
          <em>"successione di suoni ordinati per grado congiunto".</em>
        </p>
        <p>
          Da questa definizione emergono alcune <strong>parole chiave</strong>:
        </p>
        <ul>
          <li>grado</li>
          <li>congiunto</li>
          <li>ascendente</li>
          <li>discendente</li>
        </ul>

        <h3 id="grado">Grado</h3>
        <p>
          Ogni nota della scala si chiama <strong>grado</strong>, come i gradini di una scala fisica.
        </p>
        <img src="../img/gradini_scala.png" alt="Disegno della scala musicale">
        <p><em>(Immagina i gradi della scala come dei gradini)</em></p>

        <h3 id="congiunti">Congiunti e disgiunti</h3>
        <p>
          I gradi sono <strong>congiunti</strong> quando seguono l'ordine naturale delle note (es. Do Re Mi Fa). Se si
          salta una nota, come in Do Mi Fa, si parla di movimento <strong>disgiunto</strong>.
        </p>

        <h3 id="asc-desc">Ascendente e discendente</h3>
        <p>
          Una scala è <strong>ascendente</strong> se va dal grave all'acuto, e <strong>discendente</strong> se scende
          dall'acuto al grave.
        </p>

        <div id="notation-asc"></div>
        <button id="play-asc">Scala ascendente</button>
        <div id="notation-desc"></div>
        <button id="play-desc">Scala discendente</button>

        <script>
          const abcAsc = `X:1\nT:Ascendente\nM:4/4\nL:1/4\nK:C\nC D E F G A B c`;
          const abcDesc = `X:1\nT:Discendente\nM:4/4\nL:1/4\nK:C\nc B A G F E D C`;

          const visualAsc = ABCJS.renderAbc("notation-asc", abcAsc, { responsive: "resize" })[0];
          const visualDesc = ABCJS.renderAbc("notation-desc", abcDesc, { responsive: "resize" })[0];

          document.getElementById("play-asc").addEventListener("click", async () => {
            const synth = new ABCJS.synth.CreateSynth();
            await synth.init({ visualObj: visualAsc });
            await synth.prime();
            synth.start();
          });

          document.getElementById("play-desc").addEventListener("click", async () => {
            const synth = new ABCJS.synth.CreateSynth();
            await synth.init({ visualObj: visualDesc });
            await synth.prime();
            synth.start();
          });
        </script>
        <h2>Esercizi correlati</h2>
        <p>
          <a href="scale-mallet-control.html">Tecnica sulle scale tratta da <i>Mallet Control</i></a><br>
        </p>
      </article>
    </main>
    <!-- Sidebar destra (DEVE essere sibling di article) -->
    <aside>
      <h3>Argomenti correlati</h3>
      <p>
        <a href="note-musicali.html">Le note musicali</a><br />
        <a href="parametri_fondamentali_del_suono.html">Parametri fondamentali del suono</a><br />
      </p>

      <h3>Esercizi correlati</h3>
      <p>
        <a href="scale-mallet-control.html">Tecnica sulle scale da <i>Mallet Control</i></a><br />
      </p>
    </aside>


  </div>

  <footer>
    <p>&copy; 2025 Il Mio Blog. Tutti i diritti riservati.</p>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const source = document.getElementById("original-index");
      const sidebar = document.querySelector(".left-sidebar");
      if (source && sidebar) {
        sidebar.innerHTML = source.innerHTML;
      }
    });
  </script>
</body>

</html>